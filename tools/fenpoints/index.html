<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">

		<title>fen point counter</title>
		<link rel="stylesheet" href="../../style.css">

		<style>
			input {
				margin-top: 0.4em;
			}
		</style>
	</head>

	<body>
		<section class="top">
			<h1>fen point counter</h1>
		</section>
		
		<section>
			<div class="row">
				<div class="col">
					<p>
						get a fen string from chess and paste it here for the material count
					</p>
			
					<p>
						fen string:
						<br>
						<input type="text" name="fen" id="fen" style="width: 100%">
					</p>
			
					<button onclick="count()">count</button>
			
					<p id="output"></p>
				</div>
			</div>
		</section>

		<script>
			const values = new Map([
				["Q", 9],
				["R", 5],
				["B", 3],
				["N", 3],
				["P", 1],
				["q", -9],
				["r", -5],
				["b", -3],
				["n", -3],
				["p", -1],
			]);
			const fenEl = document.getElementById("fen");
			const outputEl = document.getElementById("output");

			function count() {
				let value = 0;

				for (const char of fenEl.value) {
					value += values.get(char) || 0;
				}

				outputEl.textContent = value === 0 ? "the material count is even!" :
					`${ value > 0 ? "white" : "black" } is up ${ Math.abs(value) } points of material!`;
			}
		</script>
	</body>
</html>